{"id":"node_modules/mux.js/lib/mp4/find-box.js","dependencies":[{"name":"/Users/mdelano/code/safestream-player-example/package.json","includedInParent":true,"mtime":1605189636755},{"name":"/Users/mdelano/code/safestream-player-example/node_modules/mux.js/package.json","includedInParent":true,"mtime":1605186532048},{"name":"../utils/bin","loc":{"line":1,"column":25},"parent":"/Users/mdelano/code/safestream-player-example/node_modules/mux.js/lib/mp4/find-box.js","resolved":"/Users/mdelano/code/safestream-player-example/node_modules/mux.js/lib/utils/bin.js"},{"name":"./parse-type.js","loc":{"line":2,"column":24},"parent":"/Users/mdelano/code/safestream-player-example/node_modules/mux.js/lib/mp4/find-box.js","resolved":"/Users/mdelano/code/safestream-player-example/node_modules/mux.js/lib/mp4/parse-type.js"}],"generated":{"js":"var toUnsigned = require('../utils/bin').toUnsigned;\nvar parseType = require('./parse-type.js');\n\nvar findBox = function(data, path) {\n  var results = [],\n    i, size, type, end, subresults;\n\n  if (!path.length) {\n    // short-circuit the search for empty paths\n    return null;\n  }\n\n  for (i = 0; i < data.byteLength;) {\n    size = toUnsigned(data[i]     << 24 |\n      data[i + 1] << 16 |\n      data[i + 2] <<  8 |\n      data[i + 3]);\n\n    type = parseType(data.subarray(i + 4, i + 8));\n\n    end = size > 1 ? i + size : data.byteLength;\n\n    if (type === path[0]) {\n      if (path.length === 1) {\n        // this is the end of the path and we've found the box we were\n        // looking for\n        results.push(data.subarray(i + 8, end));\n      } else {\n        // recursively search for the next box along the path\n        subresults = findBox(data.subarray(i + 8, end), path.slice(1));\n        if (subresults.length) {\n          results = results.concat(subresults);\n        }\n      }\n    }\n    i = end;\n  }\n\n  // we've finished searching all of data\n  return results;\n};\n\nmodule.exports = findBox;\n\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/mux.js/lib/mp4/find-box.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}}],"sources":{"node_modules/mux.js/lib/mp4/find-box.js":"var toUnsigned = require('../utils/bin').toUnsigned;\nvar parseType = require('./parse-type.js');\n\nvar findBox = function(data, path) {\n  var results = [],\n    i, size, type, end, subresults;\n\n  if (!path.length) {\n    // short-circuit the search for empty paths\n    return null;\n  }\n\n  for (i = 0; i < data.byteLength;) {\n    size = toUnsigned(data[i]     << 24 |\n      data[i + 1] << 16 |\n      data[i + 2] <<  8 |\n      data[i + 3]);\n\n    type = parseType(data.subarray(i + 4, i + 8));\n\n    end = size > 1 ? i + size : data.byteLength;\n\n    if (type === path[0]) {\n      if (path.length === 1) {\n        // this is the end of the path and we've found the box we were\n        // looking for\n        results.push(data.subarray(i + 8, end));\n      } else {\n        // recursively search for the next box along the path\n        subresults = findBox(data.subarray(i + 8, end), path.slice(1));\n        if (subresults.length) {\n          results = results.concat(subresults);\n        }\n      }\n    }\n    i = end;\n  }\n\n  // we've finished searching all of data\n  return results;\n};\n\nmodule.exports = findBox;\n\n"},"lineCount":45}},"error":null,"hash":"e327be52bc71327c2934ee2e46e4b75b","cacheData":{"env":{}}}